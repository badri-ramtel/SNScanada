{% extends 'core/base.html' %}
{% load static %}
{% block title %} Advertisment {% endblock title%}

{% block content %}
  <!-- dummy start -->
  <div class="dummy">

  </div>
  <!-- dummy end -->

  <div class="content">
    <div class="container-fluid">
      <div class="design-list photo-test">
        <div class="pb-2"><a href="{% url 'mainapp-home' %}" class="fw-bold"><i class="bi bi-house-door-fill px-1"></i>Home</a> <span class="text-secondary">&nbsp; > &nbsp; Advertisment</span></div>
      </div>
    </div>
     
    <div class="container-fluid">
      <div class="design-list photo-test">
        <div class="primary-heading text-uppercase fs-3">Advertise/Notice</div>
        <div class="p-2 text-black d-flex">
          
            <!-- Slideshow Button trigger modal Start-->
            <button type="button" class="btn text-black p-0 m-0" data-bs-toggle="modal" data-bs-target="#exampleModals">
              <h3><i class="bi bi-play"></i></h3>
            </button>
            
            <!-- Modal -->
            <div class="modal fade" id="exampleModals" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5 text-black" id="exampleModalLabel">Advertise Slideshow</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body ">
                        <!-- Carousel wrapper -->
                        <div id="carouselExampleAutoplaying" class="carousel slide " data-bs-touch="true" data-bs-ride="carousel">
                          <!-- Inner -->
                          <div class="carousel-inner">
                            <!-- Single item -->
                            {% for obj in advertise %}
                            <div class="carousel-item {% if forloop.counter0 == 0 %} active {% endif %}" data-bs-interval="3000"> 
                              <img src="{{obj.content.url}}" alt="..." class="d-flex justify-content-center" style="height: 50vh; max-width: 50vw;">
                            </div>
                            {% endfor %}                        
                          </div>                
                        </div>
                  </div>
                </div>
              </div>
            </div>
            <!--Slideshow Modal End-->

            <!-- Thumbnails Button trigger modal -->
            <button type="button" class="btn text-black mx-2 p-0 m-0" data-bs-toggle="modal" data-bs-target="#exampleModal">
              <h3><i class="bi bi-grid-3x3-gap"></i></h3>
            </button>
            
            <!-- Modal -->
            <div class="modal fade pt-5 mt-4" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-scrollable modal-lg">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5 text-black" id="exampleModalLabel">Advertisement Thumbnails</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body text-black d-flex flex-nowrap overflow-x-scroll">
                    {% for pic in advertise %}
                    <a href="{% url 'advertise' pic.id %}"><img src="{{pic.content.url}}" style="height: 50px; width: 50px; object-fit: cover;" class="m-2"/></a>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>
            <!---->
            
            <button type="button" class="btn  p-0 m-0">
              <a class="m-0 p-0" href="{% url 'mainapp-home' %}"><h3><i class="bi bi-x-lg"></i></h3></a>
            </button>

        </div>
      </div>
    </div> 

    <div class="design-gallery">
      <div class="">
        <div style="text-align: center; max-width: 1200px;">
          <img src="{{adv.content.url}}" alt="Sorry No Picture Available currently..." style="height: 70vh; max-width: 80vw;"/>
        </div>
      </div>
    </div>
    
    <div class="" id="control">
      <button class="carousel-control-next" type="button" data-bs-slide="next" id="next">
        <a href="{% url 'advertise' next %}"><span class="carousel-control-next-icon" aria-hidden="true"></span></a>
        <span class="visually-hidden">Next</span>
      </button>

      <button class="carousel-control-prev" type="button" data-bs-slide="prev" id="prev">
        <a href="{% url 'advertise' prev %}"><span class="carousel-control-prev-icon" aria-hidden="true"></span></a>
        <span class="visually-hidden">Previous</span>
      </button> 
    </div>

  </div>

  <script>
    $(document).keydown(function(e) {
      if (e.keyCode == 37) { // Left arrow key
          // Load previous image
          window.location.href = "{% url 'advertise' prev %}";
      } else if (e.keyCode == 39) { // Right arrow key
          // Load next image
          window.location.href = "{% url 'advertise' next %}";
      }
    });
  </script>
{% endblock content %}